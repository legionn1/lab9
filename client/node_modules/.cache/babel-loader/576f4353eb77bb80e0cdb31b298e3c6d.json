{"ast":null,"code":"import _taggedTemplateLiteral from \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\\\u0423\\u0447\\u0451\\u0431\\u0430\\\\\\u0421\\u0435\\u0440\\u0432\\u0435\\u0440\\u043D\\u044B\\u0435\\\\lab9\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\\\u0423\\u0447\\u0451\\u0431\\u0430\\\\\\u0421\\u0435\\u0440\\u0432\\u0435\\u0440\\u043D\\u044B\\u0435\\\\lab9\\\\client\\\\src\\\\pages\\\\profile.tsx\";\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  query LaunchDetails($launchId: ID!) {\\n    launch(id: $launchId) {\\n      site\\n      rocket {\\n        type\\n      }\\n      ...LaunchTile\\n    }\\n  }\\n  \", \"\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  query GetMyTrips {\\n    me {\\n      id\\n      email\\n      trips {\\n        ...LaunchTile\\n      }\\n    }\\n  }\\n  \", \"\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Fragment } from 'react';\nimport { useQuery } from '@apollo/react-hooks';\nimport gql from 'graphql-tag';\nimport { Loading, Header, LaunchTile } from '../components';\nimport { LAUNCH_TILE_DATA } from './launches';\nexport var GET_MY_TRIPS = gql(_templateObject(), LAUNCH_TILE_DATA);\nexport var GET_LAUNCH_DETAILS = gql(_templateObject2(), LAUNCH_TILE_DATA);\n\nvar Profile = function Profile() {\n  var _useQuery = useQuery(GET_MY_TRIPS, {\n    fetchPolicy: \"network-only\"\n  }),\n      data = _useQuery.data,\n      loading = _useQuery.loading,\n      error = _useQuery.error;\n\n  if (loading) return /*#__PURE__*/React.createElement(Loading, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 23\n    }\n  });\n  if (error) return /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 21\n    }\n  }, \"ERROR: \", error.message);\n  if (data === undefined) return /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 34\n    }\n  }, \"ERROR\");\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, \"My Trips\"), data.me && data.me.trips.length ? data.me.trips.map(function (launch) {\n    return /*#__PURE__*/React.createElement(LaunchTile, {\n      key: launch.id,\n      launch: launch,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }\n    });\n  }) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, \"You haven't booked any trips\"));\n};\n\nexport default Profile;","map":{"version":3,"sources":["C:/Users/ASUS/Desktop/Учёба/Серверные/lab9/client/src/pages/profile.tsx"],"names":["React","Fragment","useQuery","gql","Loading","Header","LaunchTile","LAUNCH_TILE_DATA","GET_MY_TRIPS","GET_LAUNCH_DETAILS","Profile","fetchPolicy","data","loading","error","message","undefined","me","trips","length","map","launch","id"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,QAAT,QAAyB,qBAAzB;AACA,OAAOC,GAAP,MAAgB,aAAhB;AAEA,SAASC,OAAT,EAAkBC,MAAlB,EAA0BC,UAA1B,QAA4C,eAA5C;AACA,SAASC,gBAAT,QAAiC,YAAjC;AAIA,OAAO,IAAMC,YAAY,GAAGL,GAAH,oBAUrBI,gBAVqB,CAAlB;AAaP,OAAO,IAAME,kBAAkB,GAAGN,GAAH,qBAU3BI,gBAV2B,CAAxB;;AAeP,IAAMG,OAA+B,GAAG,SAAlCA,OAAkC,GAAM;AAAA,kBACXR,QAAQ,CACvCM,YADuC,EAEvC;AAAEG,IAAAA,WAAW,EAAE;AAAf,GAFuC,CADG;AAAA,MACpCC,IADoC,aACpCA,IADoC;AAAA,MAC9BC,OAD8B,aAC9BA,OAD8B;AAAA,MACrBC,KADqB,aACrBA,KADqB;;AAK5C,MAAID,OAAJ,EAAa,oBAAO,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AACb,MAAIC,KAAJ,EAAW,oBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAWA,KAAK,CAACC,OAAjB,CAAP;AACX,MAAIH,IAAI,KAAKI,SAAb,EAAwB,oBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAP;AAExB,sBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAEGJ,IAAI,CAACK,EAAL,IAAWL,IAAI,CAACK,EAAL,CAAQC,KAAR,CAAcC,MAAzB,GACCP,IAAI,CAACK,EAAL,CAAQC,KAAR,CAAcE,GAAd,CAAkB,UAACC,MAAD;AAAA,wBAChB,oBAAC,UAAD;AAAY,MAAA,GAAG,EAAEA,MAAM,CAACC,EAAxB;AAA4B,MAAA,MAAM,EAAED,MAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADgB;AAAA,GAAlB,CADD,gBAKC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCAPJ,CADF;AAYD,CArBD;;AAuBA,eAAeX,OAAf","sourcesContent":["import React, { Fragment } from 'react';\nimport { useQuery } from '@apollo/react-hooks';\nimport gql from 'graphql-tag';\n\nimport { Loading, Header, LaunchTile } from '../components';\nimport { LAUNCH_TILE_DATA } from './launches';\nimport { RouteComponentProps } from '@reach/router';\nimport * as GetMyTripsTypes from './__generated__/GetMyTrips';\n\nexport const GET_MY_TRIPS = gql`\n  query GetMyTrips {\n    me {\n      id\n      email\n      trips {\n        ...LaunchTile\n      }\n    }\n  }\n  ${LAUNCH_TILE_DATA}\n`;\n\nexport const GET_LAUNCH_DETAILS = gql`\n  query LaunchDetails($launchId: ID!) {\n    launch(id: $launchId) {\n      site\n      rocket {\n        type\n      }\n      ...LaunchTile\n    }\n  }\n  ${LAUNCH_TILE_DATA}\n`;\n\ninterface ProfileProps extends RouteComponentProps {}\n\nconst Profile: React.FC<ProfileProps> = () => {\n  const { data, loading, error } = useQuery<GetMyTripsTypes.GetMyTrips, any>(\n    GET_MY_TRIPS,\n    { fetchPolicy: \"network-only\" }\n  );\n  if (loading) return <Loading />;\n  if (error) return <p>ERROR: {error.message}</p>;\n  if (data === undefined) return <p>ERROR</p>;\n\n  return (\n    <Fragment>\n      <Header>My Trips</Header>\n      {data.me && data.me.trips.length ? (\n        data.me.trips.map((launch: any) => (\n          <LaunchTile key={launch.id} launch={launch} />\n        ))\n      ) : (\n        <p>You haven't booked any trips</p>\n      )}\n    </Fragment>\n  );\n}\n\nexport default Profile;"]},"metadata":{},"sourceType":"module"}