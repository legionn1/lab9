{"ast":null,"code":"import _taggedTemplateLiteral from \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\\\u0423\\u0447\\u0451\\u0431\\u0430\\\\\\u0421\\u0435\\u0440\\u0432\\u0435\\u0440\\u043D\\u044B\\u0435\\\\lab9\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\\\u0423\\u0447\\u0451\\u0431\\u0430\\\\\\u0421\\u0435\\u0440\\u0432\\u0435\\u0440\\u043D\\u044B\\u0435\\\\lab9\\\\client\\\\src\\\\index.tsx\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  query IsUserLoggedIn {\\n    isLoggedIn @client\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport { ApolloClient } from 'apollo-client';\nimport { InMemoryCache } from 'apollo-cache-inmemory';\nimport { HttpLink } from 'apollo-link-http';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport Pages from './pages';\nimport injectStyles from './styles';\nimport gql from 'graphql-tag';\nimport { ApolloProvider, useQuery } from '@apollo/react-hooks';\nimport Login from './pages/login';\nvar cache = new InMemoryCache();\nimport { resolvers, typeDefs } from './resolvers';\nvar client = new ApolloClient({\n  cache: cache,\n  link: new HttpLink({\n    uri: 'http://localhost:4000/graphql',\n    headers: {\n      authorization: localStorage.getItem('token')\n    }\n  }),\n  typeDefs: typeDefs,\n  resolvers: resolvers\n});\ncache.writeData({\n  data: {\n    isLoggedIn: !!localStorage.getItem('token'),\n    cartItems: []\n  }\n});\nvar IS_LOGGED_IN = gql(_templateObject());\n\nfunction IsLoggedIn() {\n  var _useQuery = useQuery(IS_LOGGED_IN),\n      data = _useQuery.data;\n\n  return data.isLoggedIn ? /*#__PURE__*/React.createElement(Pages, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 28\n    }\n  }) : /*#__PURE__*/React.createElement(Login, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 40\n    }\n  });\n}\n\ninjectStyles();\nReactDOM.render( /*#__PURE__*/React.createElement(ApolloProvider, {\n  client: client,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(IsLoggedIn, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }\n})), document.getElementById('root'));","map":{"version":3,"sources":["C:/Users/ASUS/Desktop/Учёба/Серверные/lab9/client/src/index.tsx"],"names":["ApolloClient","InMemoryCache","HttpLink","React","ReactDOM","Pages","injectStyles","gql","ApolloProvider","useQuery","Login","cache","resolvers","typeDefs","client","link","uri","headers","authorization","localStorage","getItem","writeData","data","isLoggedIn","cartItems","IS_LOGGED_IN","IsLoggedIn","render","document","getElementById"],"mappings":";;;;;;;;;;;;;AAAA,SAASA,YAAT,QAA6B,eAA7B;AACA,SAASC,aAAT,QAAqD,uBAArD;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,YAAP,MAAyB,UAAzB;AACA,OAAOC,GAAP,MAAgB,aAAhB;AACA,SAASC,cAAT,EAAyBC,QAAzB,QAAyC,qBAAzC;AACA,OAAOC,KAAP,MAAkB,eAAlB;AAEA,IAAMC,KAAK,GAAG,IAAIV,aAAJ,EAAd;AACA,SAASW,SAAT,EAAoBC,QAApB,QAAoC,aAApC;AAEA,IAAMC,MAA2C,GAAG,IAAId,YAAJ,CAAiB;AACnEW,EAAAA,KAAK,EAALA,KADmE;AAEnEI,EAAAA,IAAI,EAAE,IAAIb,QAAJ,CAAa;AACjBc,IAAAA,GAAG,EAAE,+BADY;AAEjBC,IAAAA,OAAO,EAAE;AACPC,MAAAA,aAAa,EAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB;AADR;AAFQ,GAAb,CAF6D;AAQnEP,EAAAA,QAAQ,EAARA,QARmE;AASnED,EAAAA,SAAS,EAATA;AATmE,CAAjB,CAApD;AAYAD,KAAK,CAACU,SAAN,CAAgB;AACdC,EAAAA,IAAI,EAAE;AACJC,IAAAA,UAAU,EAAE,CAAC,CAACJ,YAAY,CAACC,OAAb,CAAqB,OAArB,CADV;AAEJI,IAAAA,SAAS,EAAE;AAFP;AADQ,CAAhB;AAOA,IAAMC,YAAY,GAAGlB,GAAH,mBAAlB;;AAMA,SAASmB,UAAT,GAAsB;AAAA,kBACHjB,QAAQ,CAACgB,YAAD,CADL;AAAA,MACZH,IADY,aACZA,IADY;;AAEpB,SAAOA,IAAI,CAACC,UAAL,gBAAkB,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAlB,gBAA8B,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAArC;AACD;;AAEDjB,YAAY;AACZF,QAAQ,CAACuB,MAAT,eACE,oBAAC,cAAD;AAAgB,EAAA,MAAM,EAAEb,MAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EADF,CADF,EAIEc,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAJF","sourcesContent":["import { ApolloClient } from 'apollo-client';\r\nimport { InMemoryCache, NormalizedCacheObject } from 'apollo-cache-inmemory';\r\nimport { HttpLink } from 'apollo-link-http';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom'; \r\nimport Pages from './pages';\r\nimport injectStyles from './styles';\r\nimport gql from 'graphql-tag';\r\nimport { ApolloProvider, useQuery } from '@apollo/react-hooks'; \r\nimport Login from './pages/login';\r\n\r\nconst cache = new InMemoryCache();\r\nimport { resolvers, typeDefs } from './resolvers';\r\n\r\nconst client: ApolloClient<NormalizedCacheObject> = new ApolloClient({\r\n  cache,\r\n  link: new HttpLink({\r\n    uri: 'http://localhost:4000/graphql',\r\n    headers: {\r\n      authorization: localStorage.getItem('token'),\r\n    },\r\n  }),\r\n  typeDefs,\r\n  resolvers,\r\n});\r\n\r\ncache.writeData({\r\n  data: {\r\n    isLoggedIn: !!localStorage.getItem('token'),\r\n    cartItems: [],\r\n  },\r\n});\r\n\r\nconst IS_LOGGED_IN = gql`\r\n  query IsUserLoggedIn {\r\n    isLoggedIn @client\r\n  }\r\n`;\r\n\r\nfunction IsLoggedIn() {\r\n  const { data } = useQuery(IS_LOGGED_IN);\r\n  return data.isLoggedIn ? <Pages /> : <Login />;\r\n}\r\n\r\ninjectStyles();\r\nReactDOM.render(\r\n  <ApolloProvider client={client}>\r\n    <IsLoggedIn />\r\n  </ApolloProvider>,\r\n  document.getElementById('root'),\r\n);\r\n\r\n"]},"metadata":{},"sourceType":"module"}